<!doctype html>
<html class="sidebar-active" lang="zh-Hant-TW">
    <head>
        <title>Welcome to Online Tutor</title>
        <link rel="stylesheet" type = "text/css" href = "css/style.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="css/jquery-ui.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <script src="js/jquery.mousewheel.js"></script>
        <script src="js/jquery-ui.js"></script>  
    </head>
    <!--聊天對話框-->
    <div class="myChatButton btn btn-primary" data-toggle="modal" data-target="#colChat">
        <a href="#" style="color:white;">chatting</a>
    </div>
    <div id="colChat" class="modal fade in" role="dialog"  
    aria-hidden="true" data-backdrop="static">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>colChat</h3>
                    <button class="close" data-dismiss="modal">&timesd;</button>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <div class="row myChat">
                            <div class="col-5" id="contactPerson" style="border-right:1px solid;"></div>
                            <div class="col-7" style="padding:0;">
                                <div id="chatHeader"><h5>Eason</h5></div>
                                <div id="chatContent">content</div>
                                <div class="form-inline" style="position:absolute;bottom:0px;width:100%;height:10%;">
                                    <textarea id="textArea" placeholder="Message" style="width:80%;height:100%;"></textarea>
                                    <button class="btn btn-primary"style="width:20%;height:100%;" onclick="show()">send</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer bg-dark">
                    <div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <body style="background-color:#DAF1F9;">
        <nav class="navbar myNavbar fixed-top navbar-dark">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button class="navbar-toggler myTogglerButton" type="button"
                    data-toggle="collapse-side"
                    data-target-sidebar=".side-collapse-right" >
                        <p class="navbar-toggler-icon" style="height:6vh;width:6vh;"></p>
                    </button>
                    <a class="navbar-brand" href="#" id="myNavbarBrand">ColTutor</a>
                </div>
                <div class="navbar-inverse  navbar-right side-collapse-right in" >
                　 <nav role="navigation" class="navbar-collapse">
                　 　 <ul class="nav navbar-nav">
                        <h3>Title</h3>
                　 　 　 <li class="nav-item" style="width:60px;"><a class="nav-link text-secondary" style="border-bottom:1px solid;" href="#">選單1</a></li>                       </li>
                        <li class="nav-item" style="width:60px;"><a class="nav-link text-secondary" style="border-bottom:1px solid;" href="#">選單2</a></li>
                        <li class="nav-item" style="width:60px;"><a class="nav-link text-secondary" style="border-bottom:1px solid;" href="#">選單2</a></li>
                　 　 </ul>
                　 </nav>
                </div>
            </div>
        </nav>
        <!--main body-->
        <!--時間流水條-->
        <div class="schadualBar">
            <div class="schadual">
                <div class="timeBar">
                    <div class="dash">----------------</div>
                    <div class="time">
                        19:20
                    </div>
                    <div class="dash">-----------------</div>
                </div>
            </div>
            <div class="schadual">
                    <div class="timeBar">
                        <div class="dash">----------------</div>
                        <div class="time">
                            19:20
                        </div>
                        <div class="dash">-----------------</div>
                    </div>
                </div>
        </div>
        <div class="labelbar" style="padding-left:0px;margin-top:5px;">
            <input class="label" type="button" value="老師" >
            <input class="label" type="button" value="學生" >
            <input class="label" type="button" value="我的教室" >
        </div>
        <div class="main">
            <!--search bar-->
            <div id="mySearchBar">
                <form class=" form-inline">
                    <input class="form-control mr-sm-1" type="search" placeholder="Search teacher" aria-label="Search">
                    <button class="mySearchButton" type="submit"><i class="fa fa-search"></i></button>
                </form>
            </div>
        </div>
    </body>
</html>


<script>
    //easy-sidebar-toggle-right
    $(function(){
        //橫向選單
        var sideslider = $('[data-toggle=collapse-side]');
        var get_sidebar = sideslider.attr('data-target-sidebar');
        var get_content = sideslider.attr('data-target-content');
        sideslider.click(function(event){
            $(get_sidebar).toggleClass('in');
        });
        
        //橫向滾動
        $('.schadualBar').on('mouseenter' , function(){
            $("html").css("overflow-y" , "hidden");
            var position = $('.schadualBar').scrollLeft();
            $('.schadualBar').on('mousewheel' , function(e){
                var position = $('.schadualBar').scrollLeft();
                if(e.deltaY < 0){
                    $('.schadualBar').scrollLeft(position+100);
                }
                else{
                    $('.schadualBar').scrollLeft(position-100);
                }
            })
        });
        $('.schadualBar').on('mouseleave' , function(){
            $("html").css("overflow-y" , "auto");
        });
    });

    // button拖曳
    $('.myChatButton').draggable({
        containment: "window",
        drag: function(){
            console.log($(".myNavbar").height());
            console.log($(this).offset().top);
        },
        stop: function(){
            if($(this).offset().left < $(window).width()/2){
                $(this).animate({left: 20} , 500);
            }
            else{
                var screenRight = $(window).width() - 100;
                $(this).animate({left: screenRight} , 500);
            }
            if($(this).offset().top < $(".myNavbar").height()){
                $(this).animate({top: 0} , 500);
            }
        }
    });
</script>